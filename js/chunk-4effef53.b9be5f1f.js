(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4effef53"],{"6b9e":function(t,e,a){"use strict";var s=a("743d"),r=a.n(s);r.a},"743d":function(t,e,a){},c1b4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"send"},[s("div",{staticClass:"gutter-example"},[s("a-row",{attrs:{gutter:16}},[s("a-col",{staticClass:"gutter-row",attrs:{span:16}},[s("div",{staticClass:"gutter-box leftbox"},[s("h2",[t._v(t._s(t.$t("manageWallet.chargePoints")))]),s("div",{staticClass:"left-content"},[s("a-form-model",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[s("p",{staticClass:"fasong"},[t._v(t._s(t.$t("manageWallet.chargeToAddress")))]),s("a-form-model-item",{attrs:{prop:"toaddress"}},[s("a-input",{staticClass:"fasongdizhi",attrs:{placeholder:t.$t("manageWallet.pleaceEnterAdress"),size:"large"},model:{value:t.ruleForm.toaddress,callback:function(e){t.$set(t.ruleForm,"toaddress",e)},expression:"ruleForm.toaddress"}})],1),s("p",{staticClass:"fasong"},[t._v(t._s(t.$t("manageWallet.chargeEnterData")))]),s("div",{staticClass:"inputGroup"},[s("a-form-model-item",{attrs:{prop:"tovalue"}},[s("a-input",{attrs:{placeholder:t.$t("manageWallet.chargePpleaceEnterData"),size:"large",type:"number"},on:{blur:t.changBackground},model:{value:t.ruleForm.tovalue,callback:function(e){t.$set(t.ruleForm,"tovalue",e)},expression:"ruleForm.tovalue"}})],1)],1),s("p",{staticClass:"buttonContent"},[s("img",{attrs:{src:a("2fd1"),alt:""}}),t._v(" 汇率 1 ￥ = 10 CT ")]),s("a-button",{class:t.fasongButton,attrs:{type:"primary",size:"large"},on:{click:t.sendChange}},[t._v(" "+t._s(t.$t("header.charge"))+" ")])],1)],1)])]),s("a-col",{staticClass:"gutter-row rightbox",attrs:{span:8}},[s("div",{staticClass:"gutter-box"},[s("div",{staticClass:"top"},[s("div",{staticClass:"top-top"},[s("div",{staticClass:"touxiang"},[s("img",{staticClass:"touxiangimg",attrs:{src:a("f04f"),alt:""}})]),s("p",{staticClass:"title"},[t._v(" "+t._s(t.$t("manageWallet.accountAddress"))+" "),s("img",{attrs:{src:a("1418b"),alt:""},on:{click:t.copyAddress}})]),s("p",{staticClass:"dizhi"},[t._v(t._s(t.ruleForm.toaddress))])]),s("div",{staticClass:"top-bottom"},[s("img",{staticClass:"wallet_img1",attrs:{src:a("5cad"),alt:""}}),s("div",{staticClass:"topbottom-right"},[s("p",[t._v(t._s(t.$t("manageWallet.accountBalance")))]),s("p",[t._v(t._s(t.addressBalance))])])])]),s("div",{staticClass:"bottom"},[s("h3",[s("span",[t._v(t._s(t.$t("manageWallet.transactionHistory")))]),s("span",{on:{click:function(e){return t.viewMoreChange()}}},[t._v(t._s(t.$t("manageWallet.seeMore"))),s("a-icon",{attrs:{type:"right"}})],1)]),s("div",{staticClass:"bottomContent"},t._l(t.transcations,(function(e,a){return s("div",{key:a,staticClass:"biaoti"},[s("p",[s("span",[t._v("TX#")]),s("span",{staticClass:"jiaoyi"},[t._v(t._s(e.hash.substring(0,19))+"...")]),s("a-tag",{attrs:{color:"pink"}},[t._v(" "+t._s(t.$options.filters.danwei(e.value))+" ct ")])],1),s("div",{staticClass:"content"},[s("div",{staticClass:"borderbian"},[s("span",{staticClass:"blue"}),s("span",{staticClass:"red"})]),s("div",{staticClass:"borderright"},[s("p",[s("span",[t._v(t._s(t.$t("manageWallet.from")))]),s("span",{staticClass:"neirong"},[t._v(t._s(e.from.substring(0,29))+"...")])]),s("p",[s("span",[t._v(t._s(t.$t("manageWallet.to")))]),s("span",{staticClass:"neirong"},[t._v(t._s(e.to.substring(0,29))+"...")])])])])])})),0)])])])],1)],1),s("a-modal",{attrs:{title:"扫码支付",closable:!1,visible:t.payCodeDialog}},[s("div",{staticStyle:{"text-align":"center"}},[s("div",{ref:"pay_code_url",staticStyle:{margin:"0 auto",display:"inline-block"},attrs:{id:"pay_code_url",alt:""}}),s("div",[t._v("￥"+t._s(t.ruleForm.tovalue))])]),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("a-button",{on:{click:function(e){t.payCodeDialog=!1}}},[t._v("取 消")]),s("a-button",{attrs:{type:"primary"},on:{click:t.checkPayStatus}},[t._v("已支付")])],1)])],1)},r=[],o=a("56cd"),n=a("4ec3"),i=a("d044"),l=a.n(i),c=(a("b671"),a("6467"),a("dbd9"),a("c030")),d={name:"send",data:function(){var t=this,e=function(e,a,s){var r=/^(0x[0-9a-fA-F]{40})$/;""!==a&&r.test(a)?s():s(new Error(t.$t("manageWallet.addressenteredisinvalid")))};return{fasongButton:"fasongjiaoyi",fasongYue:"neibubutton",privateKey:"",addressBalance:"",fee:1,web3:"",ruleForm:{toaddress:"",tovalue:""},rules:{toaddress:[{required:!0,message:this.$t("manageWallet.pleaceEnterAdress"),trigger:"blur"},{validator:e,trigger:"blur"}],tovalue:[{required:!0,message:this.$t("manageWallet.pleaceEnterData"),trigger:"blur"}]},transcations:[],payCodeDialog:!1,order_id:""}},watch:{"ruleForm.toaddress":function(t,e){t&&42==t.length&&(this.queryBalance(),this.getTxList())}},mounted:function(){},methods:{getTxList:function(){var t=this;n["a"].getTxList(this.ruleForm.toaddress,1,5).then((function(e){0==e.data.result.length&&1==t.pages?t.queshengShow=!0:t.queshengShow=!1,0!=e.data.result.length&&(t.transcations=e.data.result,console.log(e))}))},checkPayStatus:function(){var t=this;n["a"].checkPay({order_id:this.order_id}).then((function(e){console.log(e),200!==e.code?t.$message.error(e.msg):(console.log(e),t.payCodeDialog=!1,t.$message.success(e.msg),t.$message.success("CT草田分到账可能存在延迟,请稍后查看账户."),t.$refs.ruleForm.resetFields())})).catch((function(){t.$message.error("网络请求失败")}))},copyAddress:function(){var t=document.createElement("textarea");t.value=this.ruleForm.toaddress,document.body.appendChild(t),t.select(),document.execCommand("copy")&&(document.execCommand("copy"),document.body.removeChild(t)),this.$message.success(this.$t("createWallet.copySuccess"))},queryBalance:function(){var t=this;n["a"].getBalance(this.ruleForm.toaddress).then((function(e){console.log(e),200!==e.code?t.$message.error(e.msg):(console.log(e),e.data.error?t.addressBalance=0:t.addressBalance=c.utils.formatEther(e.data.result))})).catch((function(){t.$message.error("网络请求失败")}))},openNotice:function(t,e,a){var s=function(a){o["a"][a]({message:t,description:e})};s(a)},sendChange:function(){var t=this,e=this;e.$refs.ruleForm.validate((function(a){if(!a)return console.log("error submit!!"),!1;e.fasongButton="clickfasongjiaoyi";var s={charge_amount:e.ruleForm.tovalue,address:e.ruleForm.toaddress};n["a"].putChangeReq(s).then((function(e){200!==e.code&&t.$message.error(e.msg),console.log(e),t.payCodeDialog=!0,t.order_id=e.order_id,t.$nextTick((function(){var t=this.$refs.pay_code_url;t&&(t.innerHTML="",new l.a(t,{text:e.code_url,width:130,height:130,colorDark:"#333333",colorLight:"#ffffff",correctLevel:l.a.CorrectLevel.L}))}))}))}))},viewMoreChange:function(){this.$router.push({path:"/research/record",query:{address:this.ruleForm.toaddress}})},changBackground:function(){this.fasongYue="neibubutton"}}},u=d,g=(a("6b9e"),a("2877")),m=Object(g["a"])(u,s,r,!1,null,"9e09656c",null);e["default"]=m.exports}}]);