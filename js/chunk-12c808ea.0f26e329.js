(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12c808ea"],{1884:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"page-head"},[i("a-row",{staticStyle:{margin:"0",padding:"32px 15%"},attrs:{gutter:24}},[i("div",[i("a-col",{style:{marginBottom:"0"},attrs:{sm:12,md:12,xl:6,xs:12}},[i("div",{staticClass:"page-head-card"},[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:s("ab03"),alt:""}}),i("div",{staticClass:"page-head-card-right"},[i("div",{staticClass:"title"},[t._v("BEST BLOCK")]),i("div",{staticStyle:{"font-size":"20px"}},[t._v("# "+t._s(t.lastBlockNumber))])])])])],1),i("div",[i("a-col",{style:{marginBottom:"0"},attrs:{sm:12,md:12,xl:6,xs:12}},[i("div",{staticClass:"page-head-card"},[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:s("ea20"),alt:""}}),i("div",{staticClass:"page-head-card-right"},[i("div",{staticClass:"title"},[t._v("LAST BLOCK")]),i("div",{staticStyle:{"font-size":"20px"}},[t._v("# "+t._s(t.timeout)+"s ago")])])])])],1),i("div",[i("a-col",{style:{marginBottom:"0"},attrs:{sm:12,md:12,xl:6,xs:12}},[i("div",{staticClass:"page-head-card"},[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:s("fc73"),alt:""}}),i("div",{staticClass:"page-head-card-right"},[i("div",{staticClass:"title"},[t._v("AVG BLOCK TIME")]),i("div",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.AVGBLOCKTIME)+"s")])])])])],1),i("div",[i("a-col",{style:{marginBottom:"0"},attrs:{sm:12,md:12,xl:6,xs:12}},[i("div",{staticClass:"page-head-card"},[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:s("8d9e"),alt:""}}),i("div",{staticClass:"page-head-card-right"},[i("div",{staticClass:"title"},[t._v("AVG NETWORK HASHRATE")]),i("div",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.AVGNETWORKHASHRATE)+"hm/s")])])])])],1)]),i("a-row",{staticStyle:{margin:"0"},attrs:{gutter:24}},[i("div",{staticStyle:{"margin-top":"50px","border-top":"2px solid rgb(19, 32, 59)"}},[i("a-tabs",{attrs:{"default-active-key":"1"},on:{change:t.callback}},[i("a-tab-pane",{key:"1",attrs:{tab:"Monitoring Data"}},[i("div",{staticStyle:{padding:"10px 12.5%","background-color":"rgb(8,15,33)",border:"none"}},[i("a-table",{attrs:{customRow:t.customRowThing,pagination:!1,"position:":"both",columns:t.columns,"data-source":t.data},on:{change:t.onChange}})],1)]),i("a-tab-pane",{key:"2",attrs:{tab:"Map Display","force-render":""}},[i("div",{staticClass:"map-class"},[i("echartsMap",{ref:"child",attrs:{mapData:t.data}})],1)]),i("a-tab-pane",{key:"3",attrs:{tab:"GCJOINT Browser","force-render":""}})],1)],1)])],1)])},a=[],n=(s("b680"),s("81d3")),o=s("7571"),c=[{title:"Node name",dataIndex:"info.name"},{title:"Node type",dataIndex:"info.os"},{title:"Node latency",dataIndex:"stats.latency",customRender:function(t,e,s){return t+"ms"}},{title:"is mining",dataIndex:"stats.mining",customRender:function(t,e,s){return t?"√":"x"}},{title:"Pending transcation",dataIndex:"stats.pending",customRender:function(t,e,s){return t}},{title:"Last block",dataIndex:"stats.block.number"},{title:"Block transcations",dataIndex:"stats.block.transactions",customRender:function(t,e,s){return console.log(JSON.stringify(t)),void 0==t?0:t.length}},{title:"Unicle",dataIndex:"stats.block.uncles",customRender:function(t,e,s){return console.log(JSON.stringify(t)),void 0==t?0:t.length}}];function r(t,e,s){console.log("params",t,e,s)}var l={components:{echartsMap:n["default"],Tag:o["a"]},data:function(){return{data:[],columns:c,websock:null,websockresult:{},serverTime:(new Date).valueOf(),lastBlockNumber:0,timeout:0,AVGBLOCKTIME:0,AVGNETWORKHASHRATE:0}},created:function(){this.initWebSocket()},destroyed:function(){this.websock.close()},mounted:function(){var t=this;setInterval((function(){t.getLatestBlock()}),1e3)},methods:{getLatestBlock:function(){var t=this;t.timeout+=1,t.timeout%5==0&&t.$web3.eth.getBlockNumber().then((function(e){console.log("currentBlock: "+e),t.lastBlockNumber!=e&&(t.lastBlockNumber=e,t.timeout=0,t.primusping())}))},getclientPong:function(){var t={emit:["client-pong",{serverTime:this.serverTime,clientTime:(new Date).valueOf()}]};this.websocketsend(JSON.stringify(t))},primusping:function(){var t="primus::ping::"+(new Date).valueOf();this.websocketsend(JSON.stringify(t))},initWebSocket:function(){var t="wss://wallet.gcjoint-mrtc.org/wss/primus";this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){var t={emit:["ready"]};this.websocketsend(JSON.stringify(t))},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(t){var e=JSON.parse(t.data);this.websockresult=e,"charts"==e.action?(this.AVGBLOCKTIME=this.websockresult.data.avgBlocktime.toFixed(2),this.AVGNETWORKHASHRATE=this.websockresult.data.avgHashrate.toFixed(2)):"inactive"==e.action||("client-ping"==e.action?this.serverTime=this.websockresult.data.serverTime:e.hasOwnProperty("emit")&&"init"==e.emit[0]&&(this.data=this.websockresult.emit[1].nodes,this.getclientPong()))},websocketsend:function(t){this.websock.send(t)},websocketclose:function(t){console.log("断开连接",t);var e=this;setTimeout((function(){e.initWebSocket()}),5e3)},customRowThing:function(t){return{on:{click:function(t){}}}},getClickInfo:function(t){console.log(t.point.lng),console.log(t.point.lat),this.center.lng=t.point.lng,this.center.lat=t.point.lat},callback:function(t){console.log(t),2==t?this.$refs.child.initChart():3==t&&(window.location.href="https://ctblock.cn")},onChange:r}},d=l,g=(s("98e7e"),s("2877")),u=Object(g["a"])(d,i,a,!1,null,"f3dd6870",null);e["default"]=u.exports},"71e9":function(t,e,s){},"8d9e":function(t,e,s){t.exports=s.p+"img/AVGNETWORKHASHRATE.86987cd1.png"},"98e7e":function(t,e,s){"use strict";var i=s("71e9"),a=s.n(i);a.a},ab03:function(t,e,s){t.exports=s.p+"img/BESTBLOCK.fbc9cad4.png"},ea20:function(t,e,s){t.exports=s.p+"img/LASTBLOCK.a2335e38.png"},fc73:function(t,e,s){t.exports=s.p+"img/time.30dcb9d9.png"}}]);